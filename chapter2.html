<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <center>
            <h2>Making the userspace</h2>
        </center>
        <h2>Cloning the busybox repository
            <h3>
                In your terminal type this.
                
            </h3>
            <code class="busybox">git clone --depth 1 https://git.busybox.net/busybox</code>
            <h3>Go to the busybox directory and type this.</h3>
            <code class="busybox">make menuconfig</code>
            <h3>Enable the Build static binary inside the menuconfig and disable tc then exit.</h3>
            <code class="busybox">make -j 8</code>
            <h3>Make a folder called initramfs inside the boot-files folder.</h3>
            <h3>And then type this.</h3>
            <code class="busybox">make CONFIG_PREFIX=/boot-files/initramfs install</code>
            <h3>Move to your initramfs folder and create shell script file called init.</h3>
            <code>
                #!/bin/sh

                /bin/sh
            </code>
            <h3>Make the init file executable with <code>chmod</code></h3>
            <h3>Then type this.</h3>
            <code class="busybox">find . | cpio -o -H newc > ../init.cpio</code>
            <h3>Then create another folder inside the boot-files folder. You can called it something like m or a for storage for our linux distro.</h3>
            <h3>Then mount the folder with the prefix boot.</h3>
            <code class="busybox">sudo mount boot m && sudo bzImage init.cpio m</code>
            <h3>Now you can umount it.</h3>
            <h3>If you still doesn't know how to make the boot file, here it is or you can watch the video in the home site.</h3>
            <code class="busybox">apt install bzip2 git vim make gcc libncurses-dev flex bison bc cpio libelf-dev libssl-dev syslinux dosfstools
            </code>
            <h3>After installing these, make the boot file.</h3>
            <code class="busybox">dd if=/dev/zero of=boot bs=1M count-50</code>
            <h3>To support fat file system support on your boot file. Type this</h3>
            <code class="busybox">mkfs -t fat boot</code>
            <h3>Now we need a bootloader to boot this boot file.</h3>
            <code class="busybox">syslinux boot</code>
        </h2>
    </div>
</body>
</html>